# /etc/nginx/conf.d/default.conf

server {
    # コンテナ内のポート80でリッスンします。
    listen 80;

    # ドキュメントルートを設定します。
    root /usr/share/nginx/html;

    # デフォルトのインデックスファイル。
    index index.html;

    # すべてのリクエストを処理するロケーションブロック。
    location / {
        # 要求されたファイルが存在するかどうかを確認します ($uri)。
        # 存在しない場合は、ディレクトリとして確認します ($uri/)。
        # それでも見つからない場合は、フォールバックとして /index.html を提供します。
        # これにより、React Routerがクライアントサイドでルーティングを処理できます。
        try_files $uri $uri/ /index.html;
    }
}