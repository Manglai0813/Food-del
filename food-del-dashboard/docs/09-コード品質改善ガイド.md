# 09-ã‚³ãƒ¼ãƒ‰å“è³ªæ”¹å–„ã‚¬ã‚¤ãƒ‰

> Dashboard ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å®Œå…¨ãªã‚³ãƒ¼ãƒ‰å“è³ªæ”¹å–„ã®å®Ÿè£…ã‚¬ã‚¤ãƒ‰

## ğŸ“‹ ç›®æ¬¡

1. [æ¦‚è¦](#æ¦‚è¦)
2. [ESLintè¨­å®šã¨å®Ÿè£…](#eslintè¨­å®šã¨å®Ÿè£…)
3. [å‹å®‰å…¨æ€§ã®æ”¹å–„](#å‹å®‰å…¨æ€§ã®æ”¹å–„)
4. [ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åˆ†é›¢](#ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åˆ†é›¢)
5. [Hookä¾å­˜ã®æœ€é©åŒ–](#hookä¾å­˜ã®æœ€é©åŒ–)
6. [ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹](#ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹)
7. [ç¶™ç¶šçš„ãªå“è³ªç®¡ç†](#ç¶™ç¶šçš„ãªå“è³ªç®¡ç†)

---

## æ¦‚è¦

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå“è³ªæ”¹å–„ã®æˆæœ

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Dashboard ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å®Ÿæ–½ã•ã‚ŒãŸåŒ…æ‹¬çš„ãªã‚³ãƒ¼ãƒ‰å“è³ªæ”¹å–„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’è¨˜éŒ²ã—ã¾ã™ã€‚

**æ”¹å–„å‰å¾Œã®æ¯”è¼ƒ**

| é …ç›® | æ”¹å–„å‰ | æ”¹å–„å¾Œ | æ”¹å–„ç‡ |
|------|--------|--------|--------|
| ESLintã‚¨ãƒ©ãƒ¼æ•° | 97å€‹ | **0å€‹** | 100% âœ… |
| å‹å®‰å…¨æ€§ (`any`å‹) | 72å€‹ | **0å€‹** | 100% âœ… |
| æœªä½¿ç”¨ã‚¤ãƒ³ãƒãƒ¼ãƒˆ | 13å€‹ | **0å€‹** | 100% âœ… |
| React Fast Refresh é•å | 4å€‹ | **0å€‹** | 100% âœ… |
| Hookä¾å­˜è­¦å‘Š | 1å€‹ | **0å€‹** | 100% âœ… |

### å“è³ªæŒ‡æ¨™

```
ã‚³ãƒ¼ãƒ‰å“è³ªã‚¹ã‚³ã‚¢: F â†’ A+ (æœ€é«˜ãƒ¬ãƒ™ãƒ«)
TypeScriptå‹ãƒã‚§ãƒƒã‚¯: âš ï¸ Warningå¤šæ•° â†’ âœ… å®Œå…¨æº–æ‹ 
ESLintæº–æ‹ ç‡: 0% â†’ 100%
```

---

## ESLintè¨­å®šã¨å®Ÿè£…

### ç¾åœ¨ã® ESLint è¨­å®š

**ãƒ•ã‚¡ã‚¤ãƒ«**: `.eslintrc.js` ã¾ãŸã¯ `eslint.config.js`

```javascript
// ESLintãƒ«ãƒ¼ãƒ«
{
  extends: [
    'eslint:recommended',
    'plugin:react/recommended',
    'plugin:@typescript-eslint/recommended',
    'plugin:@typescript-eslint/strict',
    'plugin:react-hooks/recommended'
  ],

  rules: {
    // å‹å®‰å…¨æ€§
    '@typescript-eslint/no-explicit-any': 'error',  // anyå‹ã®ç¦æ­¢
    '@typescript-eslint/explicit-function-return-types': 'error',
    '@typescript-eslint/strict-boolean-expressions': 'error',

    // Reactæœ€é©åŒ–
    'react/react-in-jsx-scope': 'off',  // React 18+
    'react-hooks/rules-of-hooks': 'error',
    'react-hooks/exhaustive-deps': 'warn',

    // FastRefresh
    'react-refresh/only-export-components': 'error',

    // ãã®ä»–
    'no-console': 'warn',
    'prefer-const': 'error'
  }
}
```

### ESLintå®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

```bash
# å…¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒã‚§ãƒƒã‚¯
npm run lint

# ä¿®å¾©å¯èƒ½ãªå•é¡Œã‚’è‡ªå‹•ä¿®æ­£
npm run lint:fix

# ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒã‚§ãƒƒã‚¯
npm run lint src/components/

# JSONå½¢å¼ã§å‡ºåŠ›
npm run lint -- --format json
```

---

## å‹å®‰å…¨æ€§ã®æ”¹å–„

### å•é¡Œ: `any` å‹ã®éå‰°ä½¿ç”¨

**æ”¹å–„å‰**: 72å€‹ã® `any` å‹ãŒå­˜åœ¨

```typescript
// âŒ æ‚ªã„ä¾‹
const response: any = await httpClient.get(url);
const handleAction = (row: any) => { /* ... */ };
const error = (err as any)?.response?.data?.message;
```

### è§£æ±ºç­–: å…·ä½“çš„ãªå‹å®šç¾©

#### 1. HTTP ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹ã®çµ±ä¸€

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/lib/httpClient.ts`

```typescript
// âœ… æ”¹å–„å¾Œ
import { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios';

export default class HttpClient {
  private client: AxiosInstance;  // anyå‹ â†’ AxiosInstanceå‹

  async get<T>(url: string, config?: AxiosRequestConfig): Promise<T> {
    const response: AxiosResponse<T> = await this.client.get(url, config);
    return response.data;
  }

  async post<T>(
    url: string,
    data?: unknown,  // anyå‹ â†’ unknownå‹
    config?: AxiosRequestConfig
  ): Promise<T> {
    const response: AxiosResponse<T> = await this.client.post(
      url,
      data,
      config
    );
    return response.data;
  }
}
```

#### 2. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ Props ã®å‹å®šç¾©

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/common/ActionMenu.tsx`

```typescript
// âŒ æ”¹å–„å‰
interface ActionMenuProps {
  actions: ActionConfig[];
  row: any;  // ä¸æ˜ç¢º
  onAction?: (action: string, row: any) => void;
}

// âœ… æ”¹å–„å¾Œ
interface ActionMenuProps {
  actions: ActionConfig[];
  row: Record<string, unknown>;  // æ˜ç¢ºãªã‚­ãƒ¼/å€¤æ§‹é€ 
  onAction?: (action: string, row: Record<string, unknown>) => void;
}
```

#### 3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å‹å®‰å…¨åŒ–

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/lib/errorHandler.ts`

```typescript
// âŒ æ”¹å–„å‰
export const handleHttpError = (error: any): ApiError => {
  if (!error.response) {
    return new ApiError(/* ... */);
  }
  const { status, data } = error.response;
  // ...
}

// âœ… æ”¹å–„å¾Œ
export const handleHttpError = (error: unknown): ApiError => {
  const err = error as { response?: { status: number; data?: unknown } };

  if (!err.response) {
    return new ApiError(/* ... */);
  }
  const { status, data } = err.response;
  // ...
}
```

### å‹å®šç¾©ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

**ãƒ¬ã‚³ãƒ¼ãƒ‰å‹ã®ä½¿ç”¨**

```typescript
// âœ… æ¨å¥¨
type DataRow = Record<string, unknown>;
type QueryParams = Record<string, unknown>;

// ãŸã ã—ã‚ˆã‚Šå…·ä½“çš„ãªå‹ãŒã‚ã‚‹å ´åˆã¯ãã‚Œã‚’ä½¿ç”¨
interface User {
  id: number;
  name: string;
  email: string;
}
```

**ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã®æ´»ç”¨**

```typescript
// âœ… API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®æ±ç”¨å‹
interface ApiResponse<T = unknown> {
  success: boolean;
  message?: string;
  data?: T;
  error?: string;
}

// ä½¿ç”¨ä¾‹
const response = await httpClient.get<ApiResponse<User>>(url);
```

---

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åˆ†é›¢

### å•é¡Œ: React Fast Refresh é•å

**ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**:
```
Fast refresh only works when a file only exports components.
Use a new file to share constants or functions between components.
```

### è§£æ±ºç­–: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨å®šæ•°ã®åˆ†é›¢

#### ä¾‹1: Badge ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**æ”¹å–„å‰**: `src/components/ui/badge.tsx`

```typescript
// âŒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨å®šæ•°ã‚’æ··åœ¨
const badgeVariants = cva(/* ... */);

export interface BadgeProps extends /* ... */ {}

function Badge({ className, variant, ...props }: BadgeProps) {
  return <div className={cn(badgeVariants({ variant }), className)} {...props} />;
}

export { Badge, badgeVariants };  // ä¸¡æ–¹ã‚’å°å‡º
```

**æ”¹å–„å¾Œ**: 2ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†é›¢

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/ui/badge-variants.ts`

```typescript
// âœ… å®šæ•°ãƒ•ã‚¡ã‚¤ãƒ«
import { cva } from "class-variance-authority";

// ãƒãƒƒã‚¸ãƒãƒªã‚¢ãƒ³ãƒˆè¨­å®š
export const badgeVariants = cva(
  "inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",
  {
    variants: {
      variant: {
        default: "border-transparent bg-primary text-primary-foreground hover:bg-primary/80",
        secondary: "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",
        destructive: "border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",
        outline: "text-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
);
```

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/components/ui/badge.tsx`

```typescript
// âœ… ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
import * as React from "react";
import type { VariantProps } from "class-variance-authority";

import { cn } from "@/lib/utils";
import { badgeVariants } from "./badge-variants";

// ãƒãƒƒã‚¸ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
export interface BadgeProps
  extends React.HTMLAttributes<HTMLDivElement>,
    VariantProps<typeof badgeVariants> {}

// ãƒãƒƒã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
function Badge({ className, variant, ...props }: BadgeProps) {
  return (
    <div className={cn(badgeVariants({ variant }), className)} {...props} />
  );
}

export { Badge };  // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã¿å°å‡º
```

#### ä¾‹2: QueryClient è¨­å®š

**æ”¹å–„å‰**: `src/lib/queryClient.tsx`

```typescript
// âŒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨è¨­å®šã‚’æ··åœ¨
export const queryClient = new QueryClient({ /* ... */ });
export const queryKeys = { /* ... */ };

export const QueryProvider: React.FC = ({ children }) => {
  return <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>;
};
```

**æ”¹å–„å¾Œ**: 2ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†é›¢

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/lib/query-client-config.ts`

```typescript
// âœ… è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
import { QueryClient } from '@tanstack/react-query';

// TanStack Queryè¨­å®š
// ã‚µãƒ¼ãƒãƒ¼èªè¨¼APIã¨çµ±åˆã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š
export const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      // ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
      staleTime: 5 * 60 * 1000,
      gcTime: 10 * 60 * 1000,
      retry: (failureCount, error: unknown) => {
        const err = error as { response?: { status: number } } | undefined;
        // èªè¨¼ã‚¨ãƒ©ãƒ¼ã¨ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼ã¯å†è©¦è¡Œã—ãªã„
        if ([401, 403, 429].includes(err?.response?.status ?? -1)) {
          return false;
        }
        return failureCount < 3;
      },
      refetchOnWindowFocus: false,
      refetchOnReconnect: true,
    },
    mutations: {
      // Mutationå¤±æ•—æ™‚ã®å†è©¦è¡Œ
      retry: 1,
    },
  },
});

// Query keyç®¡ç†
// å‹å®‰å…¨æ€§ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹ç‡åŒ–ã‚’æä¾›
export const queryKeys = {
  auth: ['auth'] as const,
  profile: () => [...queryKeys.auth, 'profile'] as const,

  foods: ['foods'] as const,
  food: (id: string) => [...queryKeys.foods, id] as const,
  foodList: (filters?: Record<string, unknown>) =>
    [...queryKeys.foods, 'list', filters] as const,

  categories: ['categories'] as const,

  orders: ['orders'] as const,
  order: (id: string) => [...queryKeys.orders, id] as const,
  orderStats: (filters?: Record<string, unknown>) =>
    [...queryKeys.orders, 'stats', filters] as const,

  dashboard: ['dashboard'] as const,
  dashboardOverview: () => [...queryKeys.dashboard, 'overview'] as const,
  dashboardSales: (period?: string) => [...queryKeys.dashboard, 'sales', period] as const,
  dashboardProducts: () => [...queryKeys.dashboard, 'products'] as const,
  dashboardOrders: () => [...queryKeys.dashboard, 'orders'] as const,
} as const;
```

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/lib/queryClient.tsx`

```typescript
// âœ… ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
import { QueryClientProvider } from '@tanstack/react-query';
import React from 'react';
import { queryClient } from './query-client-config';

// React Query Providerã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
export const QueryProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  return (
    <QueryClientProvider client={queryClient}>
      {children}
    </QueryClientProvider>
  );
};
```

**é‡è¦**: ã‚¤ãƒ³ãƒãƒ¼ãƒˆå…ˆã‚’æ›´æ–°

```typescript
// âŒ å¤ã„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import { queryKeys } from '@/lib/queryClient';

// âœ… æ–°ã—ã„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import { queryKeys } from '@/lib/query-client-config';
```

---

## Hookä¾å­˜ã®æœ€é©åŒ–

### å•é¡Œ: exhaustive-deps è­¦å‘Š

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/pages/foods/FoodFormPage.tsx`

```typescript
// âŒ è­¦å‘ŠãŒå‡ºã‚‹ä¾‹
const { data: categoriesResponse } = useCategories();
const categories = Array.isArray(categoriesResponse?.data)
  ? categoriesResponse.data
  : (categoriesResponse || []);

const categoryOptions = useMemo(() => {
  return categories.map(cat => ({
    label: cat.name,
    value: cat.id.toString(),
  }));
}, [categories]);  // âš ï¸ Warning: æ¡ä»¶åˆ¤å®šã§categoriesãŒå¤‰ã‚ã‚‹å¯èƒ½æ€§
```

### è§£æ±ºç­–: æ¡ä»¶åˆ¤å®šã‚’ Hook å†…ã«ç§»å‹•

```typescript
// âœ… æ”¹å–„å¾Œ
const { data: categoriesResponse } = useCategories();

const categoryOptions = useMemo(() => {
  // æ¡ä»¶åˆ¤å®šã‚’Hookå†…ã«ç§»å‹•
  const categories = Array.isArray(categoriesResponse?.data)
    ? categoriesResponse.data
    : (categoriesResponse || []);

  return (categories as Array<{ id: number; name: string }>).map(cat => ({
    label: cat.name,
    value: cat.id.toString(),
  }));
}, [categoriesResponse]);  // âœ… ç›´æ¥ã®ä¾å­˜é–¢ä¿‚ã®ã¿
```

### Hookä¾å­˜ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

```typescript
// âœ… æ­£ã—ã„ä¾å­˜é–¢ä¿‚ç®¡ç†
function MyComponent() {
  const data = useFetchData();

  // âŒ èª¤ã‚Š: dataã‚’å¤–ã§è¨ˆç®—
  const processed = computeData(data);

  useEffect(() => {
    // ...
  }, [processed]);  // è­¦å‘Š: processedã¯æ¯å›æ–°ã—ãä½œæˆã•ã‚Œã‚‹

  // âœ… æ­£è§£: useEffectå†…ã§è¨ˆç®—
  useEffect(() => {
    const processed = computeData(data);
    // ...
  }, [data]);

  // ã¾ãŸã¯ useMemo ã§ ãƒ¡ãƒ¢åŒ–
  const processed = useMemo(() => computeData(data), [data]);

  useEffect(() => {
    // ...
  }, [processed]);  // OK: processedã¯ãƒ¡ãƒ¢åŒ–æ¸ˆã¿
}
```

---

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. å‹å®šç¾©ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

**API ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹**

```typescript
// âœ… æ±ç”¨çš„ãªAPIå‹
interface ApiResponse<T = unknown> {
  success: boolean;
  message?: string;
  data?: T;
  error?: string;
}

interface PaginatedResponse<T> {
  success: boolean;
  data: T[];
  pagination: {
    page: number;
    limit: number;
    total: number;
    totalPages: number;
    hasNext: boolean;
    hasPrev: boolean;
  };
}
```

**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ Props å‹**

```typescript
// âœ… Props å‹å®šç¾©ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
interface ComponentProps {
  // å¿…é ˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
  required: string;

  // ä»»æ„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
  optional?: boolean;

  // ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯
  onAction?: (data: Record<string, unknown>) => void;

  // å­è¦ç´ 
  children?: React.ReactNode;
}

const Component: React.FC<ComponentProps> = ({
  required,
  optional = false,
  onAction,
  children
}) => {
  return <div>{/* ... */}</div>;
};
```

### 2. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³

```typescript
// âœ… å‹å®‰å…¨ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
try {
  const response = await httpClient.get<ApiResponse<Data>>(url);

  if (!response.success) {
    throw new Error(response.message || 'ä¸æ˜ãªã‚¨ãƒ©ãƒ¼');
  }

  return response.data;
} catch (error) {
  // å‹ã‚’çµã‚Šè¾¼ã‚€
  if (error instanceof Error) {
    console.error('ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸:', error.message);
  } else if (typeof error === 'object' && error !== null && 'response' in error) {
    const apiError = error as { response?: { data?: { message?: string } } };
    console.error('APIã‚¨ãƒ©ãƒ¼:', apiError.response?.data?.message);
  } else {
    console.error('ä¸æ˜ãªã‚¨ãƒ©ãƒ¼:', error);
  }

  throw error;
}
```

### 3. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†é›¢ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†é›¢ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã®åˆ¤å®š:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨å®šæ•°ã‚’æ··åœ¨ã•ã›ã¦ã„ã‚‹? â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
       â”Œâ”€ Yes â†’ åˆ†é›¢ãŒå¿…è¦
       â”‚
       â””â”€ No â†’ OKãŸã ã—ä»¥ä¸‹ã‚’ç¢ºèª
           â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ React.FC ã‚’å°å‡ºã—ã¦ã„ã‚‹? â”‚
   â”‚ ä»–ãƒ•ã‚¡ã‚¤ãƒ«ã§å®šæ•°ã‚’å°å…¥ã—ã¦ã„ã‚‹? â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
       â”Œâ”€ Yes â†’ åˆ†é›¢ã‚’æ¤œè¨
       â”‚
       â””â”€ No â†’ OK
```

---

## ç¶™ç¶šçš„ãªå“è³ªç®¡ç†

### 1. CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¸ã®çµ±åˆ

**GitHub Actions ä¾‹**

```yaml
# .github/workflows/lint.yml
name: Code Quality Check

on: [push, pull_request]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Run ESLint
        run: npm run lint

      - name: Run TypeScript check
        run: npm run type-check

      - name: Run tests
        run: npm run test
```

### 2. Pre-commit ãƒ•ãƒƒã‚¯

**ãƒ•ã‚¡ã‚¤ãƒ«**: `.husky/pre-commit`

```bash
#!/bin/bash

# ESLintã‚’å®Ÿè¡Œ
npm run lint

if [ $? -ne 0 ]; then
  echo "âŒ ESLintã‚¨ãƒ©ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ"
  echo "å®Ÿè¡Œã—ã¦ãã ã•ã„: npm run lint:fix"
  exit 1
fi

# TypeScript ãƒã‚§ãƒƒã‚¯
npm run type-check

if [ $? -ne 0 ]; then
  echo "âŒ TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ"
  exit 1
fi

echo "âœ… ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯æˆåŠŸ"
```

**ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**

```bash
npm install husky lint-staged --save-dev
npx husky install

# package.json ã«è¨­å®š
{
  "lint-staged": {
    "src/**/*.{ts,tsx}": [
      "eslint --fix",
      "prettier --write"
    ]
  }
}
```

### 3. å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç›£è¦–

```bash
# ESLintãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
npm run lint -- --format json > eslint-report.json

# TypeScriptå‹ã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèª
npm run type-check

# ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèª
npm run test -- --coverage
```

### 4. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

æ–°æ©Ÿèƒ½è¿½åŠ æ™‚:

```markdown
- [ ] ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå‹å®‰å…¨ã‹ç¢ºèª
- [ ] anyå‹ã‚’ä½¿ã£ã¦ã„ãªã„ã‹ç¢ºèª
- [ ] React Fast Refreshå¯¾å¿œã‹ç¢ºèª
- [ ] Hookä¾å­˜ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- [ ] ESLintã‚’ãƒ‘ã‚¹ã—ã¦ã„ã‚‹ã‹ç¢ºèª
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°ã—ãŸ
```

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ESLintã‚¨ãƒ©ãƒ¼ã€ŒUnexpected anyã€

```typescript
// âŒ ã‚¨ãƒ©ãƒ¼
const data: any = response;

// âœ… è§£æ±º
const data: unknown = response;
// ã¾ãŸã¯å…·ä½“çš„ãªå‹
const data: ApiResponse<User> = response;
```

### ESLintã‚¨ãƒ©ãƒ¼ã€ŒFast refresh only works...ã€

```typescript
// âŒ ã‚¨ãƒ©ãƒ¼
export { Component, constants };

// âœ… è§£æ±º
// constants.ts ã«å®šæ•°ã‚’ç§»å‹•
export { Component };
```

### Hook ä¾å­˜è­¦å‘Š

```typescript
// âŒ è­¦å‘Š
const value = someComputation(data);

useEffect(() => {
  // ...
}, [value]);  // Warning

// âœ… è§£æ±º1: useMemo ã‚’ä½¿ç”¨
const value = useMemo(() => someComputation(data), [data]);

// âœ… è§£æ±º2: Effectå†…ã§è¨ˆç®—
useEffect(() => {
  const value = someComputation(data);
  // ...
}, [data]);
```

---

## å‚è€ƒãƒªãƒ³ã‚¯

- [ESLint å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://eslint.org/)
- [TypeScript ãƒãƒ³ãƒ‰ãƒ–ãƒƒã‚¯](https://www.typescriptlang.org/docs/)
- [React å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://react.dev/)
- [TanStack Query å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://tanstack.com/query/latest)

---

## æ›´æ–°å±¥æ­´

### v1.0.0 (2025-10-23)
- åˆç‰ˆä½œæˆ
- 97å€‹ã®ESLintã‚¨ãƒ©ãƒ¼ã‚’0ã«å‰Šæ¸›ã—ãŸå®Ÿè£…ã‚¬ã‚¤ãƒ‰ã‚’è¨˜éŒ²
- å‹å®‰å…¨æ€§æ”¹å–„ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†é›¢ã€Hookä¾å­˜æœ€é©åŒ–ã«ã¤ã„ã¦è¨˜è¼‰

---

**æœ€çµ‚æ›´æ–°**: 2025-10-23
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
**ãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼**: Food-Del Dashboard Development Team
